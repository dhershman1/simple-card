!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):n.simpleCard=r()}(this,function(){"use strict";var n=function(n,r){for(var e=[],t=n;t<r;)e.push(t),t+=1;return e},r=function(n,r){void 0===r&&(r="");for(var e=r.length,t=0;t<e;){if(n(r[t]))return r[t];t+=1}return!1},e=function(n){return"[object Object]"===Object.prototype.toString.call(n)},t=function(n,r){return n&&r},i={validNumber:function(t){void 0===t&&(t="0");var i=e(t)?t.number:t;!function(n){if("string"!=typeof n)throw new TypeError("number is not the proper type String")}(i);var o=i.replace(/\W/g,""),u=Boolean(function(n){for(var r=[0,2,4,6,8,1,3,5,7,9],e=n.length,t=1,i=0,o=0;e;)o=parseInt(n.charAt(--e),10),i+=(t^=1)?r[o]:o;return i&&i%10==0}(o));return{isValid:u,info:u?function(e){void 0===e&&(e="0");var t={amex:[34,37],discover:[6011].concat(n(622126,622925),n(644,649),[65]),master:n(50,55),visa:[4]};for(var i in t)if(r(function(n){return new RegExp("^"+n).test(e)},t[i]))return i;return"No Type Found"}(o):"Invalid Card Number"}},validCVN:function(n,r){void 0===n&&(n="0");var i=e(n)?n.cvn:n;return function(n){if("string"!=typeof n)throw new TypeError("cvn is not the proper type String")}(i),function(n,r){void 0===n&&(n="");var e=function(n){var r=/[0-9]/.test(n);return{norm:r&&3===n.length,amex:r&&4===n.length}}(n),i=function(n,r){return void 0===n&&(n="0"),!function(n,r){return 4===n.length&&r&&"amex"!==r.info}(n,r)&&!function(n,r){return 3===n.length&&r&&"amex"===r.info}(n,r)}(n,r);for(var o in e)if(t(e[o],i))return{isValid:!0,info:o};return{isValid:!1,info:"Invalid CVN Code"}}(i.replace(/\W/g,""),r)},validDate:function(n){void 0===n&&(n="0");var r=e(n)?n.expire:n;if(function(n){if(n&&"string"!=typeof n)throw new TypeError("expire is not the proper type String")}(r),!r)return{isValid:!1,info:"No Data Provided"};var t,i=(t=new Date,new Date(t.getMonth()+1+"/1/"+t.getFullYear())>new Date(function(n){void 0===n&&(n="");var r,e=n.replace(/\s/g,"").split(/\W/g);return e[0]+"/1/"+(void 0===(r=e[1])&&(r=""),2===r.length?"20"+r:r)}(r)));return{isValid:!i,info:i}}};return function(n){var r,t=e(r=n)?function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return n.reduce(function(n,r){var e="";for(e in r)n[e]=r[e];return n},{})}({number:"0",cvn:"0",expire:!1},r):r,o={};if(!e(t))return i[function(n){void 0===n&&(n="");var r=String(n);return/\W/g.test(r)?"validDate":r.length>10?"validNumber":"validCVN"}(t)](t);for(var u in i)o[u]=i[u](t,o.validNumber);return function(n){var r={isValid:!0},e={validNumber:"cardType",validCVN:"cvnType",validDate:"expired"},t=0,i="";for(i in n)n[i].isValid||t++,r[e[i]]=n[i].info;return r.isValid=0===t,r}(o)}});
