!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):n.simpleCard=r()}(this,function(){"use strict";var n=function(n,r){if(isNaN(n)&&isNaN(r))throw new TypeError("Both arguments to range must be numbers");for(var e=[],t=n;t<r;)e.push(t),t+=1;return e},r=function(n,r){for(var e=r.length,t=0;t<e;){if(n(r[t]))return r[t];t+=1}return!1},e=function(n){return 2===n.length?"20"+n:n},t=function(n){return"[object Object]"===Object.prototype.toString.call(n)},i=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return n.reduce(function(n,r){var e="";for(e in r)n[e]=r[e];return n},{})},a=function(){var n=new Date;return new Date(n.getMonth()+1+"/1/"+n.getFullYear())},o=function(n){var r=n.replace(/\s/g,"").split(/\W/g);return r[0]+"/1/"+e(r[1])},u=function(n,r){return(4!==n.length||!r||"amex"===r.info)&&(3!==n.length||!r||"amex"!==r.info)},f=function(e){var t={amex:[34,37],discover:[6011].concat(n(622126,622925),n(644,649),[65]),master:n(50,55),visa:[4]};for(var i in t)if(r(function(n){return new RegExp("^"+n).test(e)},t[i]))return i;return"No Type Found"},c=function(n){for(var r=[0,2,4,6,8,1,3,5,7,9],e=n.length,t=1,i=0,a=0;e;)a=parseInt(n.charAt(--e),10),i+=(t^=1)?r[a]:a;return i&&i%10==0},d=function(n){var r=String(n);return/\W/g.test(r)?"validDate":r.length>10?"validNumber":"validCVN"},l=function(n){var r={isValid:!0},e={validNumber:"cardType",validCVN:"cvnType",validDate:"expired"},t=0,i="";for(i in n)n[i].isValid||t++,r[e[i]]=n[i].info;return r.isValid=0===t,r},v=function(n,r){var e=/[0-9]/.test(n),t={norm:e&&3===n.length,amex:e&&4===n.length};for(var i in t)if(t[i]&&u(n,r))return{isValid:!0,info:i};return{isValid:!1,info:"Invalid CVN Code"}},s={validNumber:function(n){void 0===n&&(n="0");var r=(t(n)?n.number:n).replace(/\W/g,""),e=Boolean(c(r));return{isValid:e,info:e?f(r):"Invalid Card Number"}},validCVN:function(n,r){void 0===n&&(n="0");var e=(t(n)?n.cvn:n).replace(/\W/g,"");return v(e,r)},validDate:function(n){void 0===n&&(n="0");var r=t(n)?n.expire:n;if(!r)return{isValid:!1,info:"No Data Provided"};var e=a()>new Date(o(r));return{isValid:!e,info:e}}},p=function(n){return t(n)?i({number:"0",cvn:"0",expire:!1},n):n};return function(n){var r=p(n),e={};if(!t(r))return s[d(r)](r);for(var i in s)e[i]=s[i](r,e.validNumber);return l(e)}});
