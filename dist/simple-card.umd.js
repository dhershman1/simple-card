!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.simpleCard=e()}(this,function(){"use strict";var n=function(n){return"[object Object]"===Object.prototype.toString.call(n)},e=function(n){return n.replace("/","/1/")},i=function(n,e){return(4!==n.length||!e||"amex"===e.info)&&(3!==n.length||!e||"amex"!==e.info)},r=function(n){for(var e=[0,2,4,6,8,1,3,5,7,9],i=n.length,r=1,t=0,o=0;i;)o=parseInt(n.charAt(--i),10),t+=(r^=1)?e[o]:o;return t&&t%10==0},t=function(n){return-1!==String(n).indexOf("/")?"validDate":String(n).length>4?"validNumber":"validCVN"},o=function(n){var e={isValid:!0},i=0,r="";for(r in n)n[r].isValid||i++,e[r]=n[r].info;return e.isValid=0===i,e},a=function(n){if(void 0===n&&(n="0"),!n)return{isValid:!1,info:"No Data Provided"};var i=new Date>new Date(e(n));return{isValid:!i,info:i}},f=function(n){void 0===n&&(n="0");var e=n.replace(/\W/g,""),i={visa:/^4[0-9]{13,15}$/,discover:/^6[0-9]{15}$/,master:/^5[1-5][0-9]{14}$/,amex:/^3(4|7)[0-9]{13}$/},t="";for(t in i)if(i[t].test(e))return{isValid:Boolean(r(e)),info:t};return{isValid:!1,info:"Invalid Card Number"}},u=function(n,e){void 0===n&&(n="0");var r=/[0-9]/.test(n),t={norm:r&&3===n.length,amex:r&&4===n.length},o="";for(o in t)if(t[o]&&i(n,e))return{isValid:!0,info:o};return{isValid:!1,info:"Invalid CVN Code"}},d=function(n){if(!n)return{validNumber:f,validCVN:u,validDate:a};var e=n.number,i=n.cvn,r=n.expire,t=f(e),d=u(i,t),l=a(r);return o({cardType:t,cvnType:d,expired:l})},l=function(n,e){return d()[n](e)};return function(e){return n(e)?d(e):l(t(e),e)}});
