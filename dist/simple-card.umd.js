!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.simpleCard=e()}(this,function(){"use strict";var n=function(n){return"[object Object]"===Object.prototype.toString.call(n)},e=function(n){return n.replace("/","/1/")},r=function(n,e){return(4!==n.length||!e||"amex"===e.info)&&(3!==n.length||!e||"amex"!==e.info)},t=function(n,e){if(isNaN(n)&&isNaN(e))throw new TypeError("Both arguments to range must be numbers");for(var r=[],t=n;t<e;)r.push(t),t+=1;return r},i=function(n,e){for(var r=e.length,t=0;t<r;){if(n(e[t]))return e[t];t+=1}return!1},o=function(n){var e={amex:[34,37],discover:[6011].concat(t(622126,622925),t(644,649),[65]),master:t(50,55),visa:[4]};for(var r in e)if(i(function(e){return new RegExp("^"+e).test(n)},e[r]))return r;return"No Type Found"},a=function(n){for(var e=[0,2,4,6,8,1,3,5,7,9],r=n.length,t=1,i=0,o=0;r;)o=parseInt(n.charAt(--r),10),i+=(t^=1)?e[o]:o;return i&&i%10==0},u=function(n){return-1!==String(n).indexOf("/")?"validDate":String(n).length>4?"validNumber":"validCVN"},f=function(n){var e={isValid:!0},r=0,t="";for(t in n)n[t].isValid||r++,e[t]=n[t].info;return e.isValid=0===r,e},d=function(n){if(void 0===n&&(n="0"),!n)return{isValid:!1,info:"No Data Provided"};var r=new Date>new Date(e(n));return{isValid:!r,info:r}},c=function(n){void 0===n&&(n="0");var e=n.replace(/\W/g,""),r=Boolean(a(e));return{isValid:r,info:r?o(e):"Invalid Card Number"}},l=function(n,e){void 0===n&&(n="0");var t=n.replace(/\W/g,""),i=/[0-9]/.test(t),o={norm:i&&3===t.length,amex:i&&4===t.length},a="";for(a in o)if(o[a]&&r(t,e))return{isValid:!0,info:a};return{isValid:!1,info:"Invalid CVN Code"}},v=function(n){if(!n)return{validNumber:c,validCVN:l,validDate:d};var e=n.number,r=n.cvn,t=n.expire,i=c(e),o=l(r,i),a=d(t);return f({cardType:i,cvnType:o,expired:a})},s=function(n,e){return v()[n](e)};return function(e){return n(e)?v(e):s(u(e),e)}});
